{% extends "_frame.njk" %}
{% block styles %}
  <link rel="stylesheet" href="blog.css">
  {% endblock %}
  {% block title %}
    {{ title }}
  {% endblock %}
  {% block heading %}
    {{ title }}
  {% endblock %}
  {% block content %}
    <article
      class="blong-post-content max-w-4xl mx-auto pb-24">
      {# Hero Section with Image #}
      <div class="mb-8 rounded-md border border-primary overflow-hidden aspect-[21/9] bg-gray-light">
        <img src="{{ featuredImage }}?width=640&quality=60" srcset="{{ featuredImage }}?width=640&quality=60 640w, {{ featuredImage }}?width=960&quality=75 960w, {{ featuredImage }}?width=1280&quality=80 1280w" sizes="(max-width: 768px) 100vw,
                             (max-width: 1536px) 960px,
                             1280px" alt="{{ title }}" class="w-full h-full object-cover" width="1280" height="540" fetchpriority="high" decoding="async"/>
      </div>
      {# Article Header #}
      <header
        class="mb-12">
        {# Meta Information #}
        <div class="flex items-center gap-4 text-primary/70 mb-4">
          <div class="flex items-center gap-2">
            <span class="icon pen w-4 h-4 bg-primary/70"></span>
            <span class="font-mono text-sm">{{ author }}</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="icon time w-4 h-4 bg-primary/70"></span>
            <span class="font-mono text-sm">{{ readingTime }}</span>
          </div>
        </div>
        {# Title #}
        <h1 class="text-4xl font-bold text-primary mb-6">{{ title }}</h1>
        {# Tags #}
        <div class="flex flex-wrap gap-2">
          {% for tag in tags %}
            <span class="text-xs font-mono px-2 py-1 bg-gray-light text-primary/70 rounded">
              #{{ tag }}
            </span>
          {% endfor %}
        </div>
      </header>
      {# Article Content #}
      <div class="blog-content prose prose-lg prose-primary max-w-none">
        {{ blog | safe }}
      </div>
      {# Article Footer #}
      <footer class="mt-12 pt-8 border-t border-primary/10">
        <div
          class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
          {# Back to Blog #}
          <a href="/" class="group flex items-center gap-2 text-primary hover:text-secondary transition-colors">
            <span class="icon arrow rotate-180 w-4 h-4 bg-primary group-hover:bg-secondary transition-colors"></span>
            <span class="font-mono">Back to all articles</span>
          </a>
          
          {# Share Buttons #}
          <div class="flex items-center gap-4">
            <span class="font-mono text-primary/70">// Share this </span>
            <div class="flex gap-3">
              <a 
                href="https://twitter.com/intent/tweet?text=Read this! {{ title | urlencode }}&url=https://readthis.io/{{ slug }}"
                target="_blank"
                rel="noopener noreferrer"
                class="text-primary hover:text-secondary transition-colors"
                aria-label="Share on X (Twitter)">
                <span class="icon twitter w-5 h-5 bg-primary hover:bg-secondary transition-colors"></span>
              </a>
              <a 
                href="https://www.linkedin.com/shareArticle?mini=true&url=https://readthis.io/{{ slug }}"
                target="_blank"
                rel="noopener noreferrer"
                class="text-primary hover:text-secondary transition-colors"
                aria-label="Share on LinkedIn">
                <span class="icon linkedin w-5 h-5 bg-primary hover:bg-secondary transition-colors"></span>
              </a>
              <a 
                href="https://www.facebook.com/sharer.php?u=https://readthis.io/{{ slug }}"
                target="_blank"
                rel="noopener noreferrer"
                class="text-primary hover:text-secondary transition-colors"
                aria-label="Share on Facebook">
                <span class="icon facebook w-5 h-5 bg-primary hover:bg-secondary transition-colors"></span>
              </a>
            </div>
          </div>
        </div>
      </footer>
    </article>
  {% endblock %}